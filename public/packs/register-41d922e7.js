import{S as e,i as t,s as a,V as n,e as s,q as o,G as r,z as u,W as c,d as l,r as $,A as i,l as m,Y as p,B as f,t as d,f as g,h as v,x as h,F as w,K as y,L as b,M as x,X as k,Z as j,_ as q}from"./bundle.js";import{F as I,I as S}from"./Input-7c033a2d.js";function _(e){let t,a,n,s,u,c,i,m,p,f,w,k;function j(t){e[6](t)}let q={placeholder:"Почта",type:"email",name:"email"};function I(t){e[7](t)}void 0!==e[0]&&(q.value=e[0]),t=new S({props:q}),y.push((()=>b(t,"value",j)));let _={placeholder:"Пароль",type:"password",name:"password",autocomplete:"on"};function F(t){e[8](t)}void 0!==e[1]&&(_.value=e[1]),s=new S({props:_}),y.push((()=>b(s,"value",I)));let z={placeholder:"Еще раз",type:"password",name:"password_confirmation",autocomplete:"on"};function A(t){e[9](t)}void 0!==e[2]&&(z.value=e[2]),i=new S({props:z}),y.push((()=>b(i,"value",F)));let B={type:"hidden",name:"authenticity_token"};return void 0!==e[3]&&(B.value=e[3]),f=new S({props:B}),y.push((()=>b(f,"value",A))),{c(){o(t.$$.fragment),n=r(),o(s.$$.fragment),c=r(),o(i.$$.fragment),p=r(),o(f.$$.fragment)},m(e,a){$(t,e,a),l(e,n,a),$(s,e,a),l(e,c,a),$(i,e,a),l(e,p,a),$(f,e,a),k=!0},p(e,n){const o={};!a&&1&n&&(a=!0,o.value=e[0],x((()=>a=!1))),t.$set(o);const r={};!u&&2&n&&(u=!0,r.value=e[1],x((()=>u=!1))),s.$set(r);const c={};!m&&4&n&&(m=!0,c.value=e[2],x((()=>m=!1))),i.$set(c);const l={};!w&&8&n&&(w=!0,l.value=e[3],x((()=>w=!1))),f.$set(l)},i(e){k||(d(t.$$.fragment,e),d(s.$$.fragment,e),d(i.$$.fragment,e),d(f.$$.fragment,e),k=!0)},o(e){g(t.$$.fragment,e),g(s.$$.fragment,e),g(i.$$.fragment,e),g(f.$$.fragment,e),k=!1},d(e){h(t,e),e&&v(n),h(s,e),e&&v(c),h(i,e),e&&v(p),h(f,e)}}}function F(e){let t,a,w,y,b,x,k,j,q,S,F=e[4]("register")+"";return a=new I({props:{$$slots:{default:[_]},$$scope:{ctx:e}}}),k=new n({}),{c(){t=s("form"),o(a.$$.fragment),w=r(),y=s("button"),b=u(F),x=r(),o(k.$$.fragment),c(y,"class","btn btn-secondary"),c(t,"method","post"),c(t,"action","/api/v1/auth/register")},m(n,s){l(n,t,s),$(a,t,null),i(t,w),i(t,y),i(y,b),i(t,x),$(k,t,null),j=!0,q||(S=m(y,"click",p(e[5])),q=!0)},p(e,[t]){const n={};2063&t&&(n.$$scope={dirty:t,ctx:e}),a.$set(n),(!j||16&t)&&F!==(F=e[4]("register")+"")&&f(b,F)},i(e){j||(d(a.$$.fragment,e),d(k.$$.fragment,e),j=!0)},o(e){g(a.$$.fragment,e),g(k.$$.fragment,e),j=!1},d(e){e&&v(t),h(a),h(k),q=!1,S()}}}function z(e,t,a){let n,s,o,r;w(e,k,(e=>a(4,n=e)));let u=document.querySelector("meta[name=csrf-token]").content;return document.querySelector("meta[name=csrf-param]").content,[s,o,r,u,n,async function(e){let t=await j.register(s,o,r);t.errors?q.push(t.errors.join("<br />")):(j.signIn(t.token),q.push("Вы зарегистрировались "+t.data.email),window.location="/")},function(e){s=e,a(0,s)},function(e){o=e,a(1,o)},function(e){r=e,a(2,r)},function(e){u=e,a(3,u)}]}export default class extends e{constructor(e){super(),t(this,e,z,F,a,{})}}
