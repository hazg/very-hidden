import{S as e,i as t,s as n,V as a,e as s,q as o,G as r,z as c,W as u,d as l,r as $,A as i,l as m,Y as f,B as p,t as d,f as g,h,x as v,F as w,K as y,L as b,M as x,X as k,Z as j,_ as q}from"./bundle.js";import{F as I,I as S}from"./Input-7c033a2d.js";function _(e){let t,n,a,s,c,u,i,m,f;function p(t){e[5](t)}let w={placeholder:"Почта",type:"email",name:"email"};function k(t){e[6](t)}void 0!==e[0]&&(w.value=e[0]),t=new S({props:w}),y.push((()=>b(t,"value",p)));let j={placeholder:"Пароль",type:"password",name:"password",autocomplete:"on"};function q(t){e[7](t)}void 0!==e[1]&&(j.value=e[1]),s=new S({props:j}),y.push((()=>b(s,"value",k)));let I={type:"hidden",name:"authenticity_token"};return void 0!==e[2]&&(I.value=e[2]),i=new S({props:I}),y.push((()=>b(i,"value",q))),{c(){o(t.$$.fragment),a=r(),o(s.$$.fragment),u=r(),o(i.$$.fragment)},m(e,n){$(t,e,n),l(e,a,n),$(s,e,n),l(e,u,n),$(i,e,n),f=!0},p(e,a){const o={};!n&&1&a&&(n=!0,o.value=e[0],x((()=>n=!1))),t.$set(o);const r={};!c&&2&a&&(c=!0,r.value=e[1],x((()=>c=!1))),s.$set(r);const u={};!m&&4&a&&(m=!0,u.value=e[2],x((()=>m=!1))),i.$set(u)},i(e){f||(d(t.$$.fragment,e),d(s.$$.fragment,e),d(i.$$.fragment,e),f=!0)},o(e){g(t.$$.fragment,e),g(s.$$.fragment,e),g(i.$$.fragment,e),f=!1},d(e){v(t,e),e&&h(a),v(s,e),e&&h(u),v(i,e)}}}function F(e){let t,n,w,y,b,x,k,j,q,S,F=e[3]("enter")+"";return n=new I({props:{$$slots:{default:[_]},$$scope:{ctx:e}}}),k=new a({}),{c(){t=s("form"),o(n.$$.fragment),w=r(),y=s("button"),b=c(F),x=r(),o(k.$$.fragment),u(y,"class","btn btn-secondary"),u(t,"method","post"),u(t,"action","/api/v1/auth/sign_in")},m(a,s){l(a,t,s),$(n,t,null),i(t,w),i(t,y),i(y,b),i(t,x),$(k,t,null),j=!0,q||(S=m(y,"click",f(e[4])),q=!0)},p(e,[t]){const a={};519&t&&(a.$$scope={dirty:t,ctx:e}),n.$set(a),(!j||8&t)&&F!==(F=e[3]("enter")+"")&&p(b,F)},i(e){j||(d(n.$$.fragment,e),d(k.$$.fragment,e),j=!0)},o(e){g(n.$$.fragment,e),g(k.$$.fragment,e),j=!1},d(e){e&&h(t),v(n),v(k),q=!1,S()}}}function z(e,t,n){let a,s,o;w(e,k,(e=>n(3,a=e)));let r=document.querySelector("meta[name=csrf-token]").content;return document.querySelector("meta[name=csrf-param]").content,[s,o,r,a,async function(e){let t=await j.login(s,o);t.errors?q.push(t.errors.join("<br />")):(j.signIn(t.token),q.push(a("login as")+" "+t.data.email),window.location="/")},function(e){s=e,n(0,s)},function(e){o=e,n(1,o)},function(e){r=e,n(2,r)}]}export default class extends e{constructor(e){super(),t(this,e,z,F,n,{})}}
